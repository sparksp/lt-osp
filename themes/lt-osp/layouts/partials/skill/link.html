{{- with site.GetPage (printf "/skill/%s" .) -}}
{{- $href := .Permalink }}
{{- if .Param "canonical" }}{{- with (.Param "canonical" | site.GetPage) -}}
{{- $href = .Permalink }}
{{- end }}{{ end }}
<a href="{{ $href }}">{{ .Title }}</a>
{{- else -}}
{{ . }}
{{- end -}}